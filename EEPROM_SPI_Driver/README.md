# EEPROM SPI Driver — Драйвер для микросхемы памяти 25LC040A

[![C++](https://img.shields.io/badge/C%2B%2B-17+-00599C?logo=c%2B%2B&logoColor=white)](https://isocpp.org/)
[![Embedded](https://img.shields.io/badge/Embedded-ARM%20%7C%20AVR-blue)](https://www.arm.com/)
[![SPI](https://img.shields.io/badge/Interface-SPI-9f7afe)](https://en.wikipedia.org/wiki/Serial_Peripheral_Interface)

Драйвер на C++ для работы с микросхемой последовательной памяти **25LC040A** (EEPROM 4 Кбит) через интерфейс SPI с использованием метода *bit-banging*.

## Особенности

- Полная поддержка всех операций микросхемы 25LC040A
- Чтение/запись отдельных битов, байтов и буферов произвольной длины
- Автоматическое страничное разбиение при записи (страница = 16 байт)
- Ожидание завершения операций записи с таймаутом
- Чистая объектно-ориентированная архитектура с разделением ответственности
- Документация в формате Doxygen для всех методов и констант
- Платформо-независимый интерфейс (требуется только реализация `SpiDriver`)

## Архитектура

```
Прикладной код → Eeprom → SpiDevice → SpiDriver
```

## Содержимое репозитория
```
eeprom-spi-driver/
├── Eeprom.h # Заголовочные файлы
├── SpiDevice.h
├── SpiDriver.h
├── Eeprom.cpp # Реализация драйвера EEPROM
├── NorAnswer # отличия Eeprom от Nor Flash
└── README.md
```

## Требования

- **Язык**: C++17 или новее
- **Платформа**: Любая микроконтроллерная платформа с возможностью bit-banging SPI
  - ARM Cortex-M (STM32, Nordic nRF, etc.)
  - AVR (ATmega, ATtiny)
  - ESP32/ESP8266
  - Другие платформы с цифровыми GPIO

## Поддерживаемые операции

| Операция | Метод | Особенности |
|----------|-------|-------------|
| Запись бита | `writeBit(address, bit, value)` | Чтение-модификация-запись |
| Чтение бита | `readBit(address, bit, value)` | Без побочных эффектов |
| Запись байта | `writeByte(address, value)` | Автоматическое ожидание завершения |
| Чтение байта | `readByte(address, value)` | Мгновенная операция |
| Запись буфера | `writeBuffer(address, data, length)` | Автоматическое разбиение на страницы (16 байт) |
| Чтение буфера | `readBuffer(address, data, length)` | Непрерывное чтение без разбиения |

## Технические характеристики 25LC040A

| Параметр | Значение |
|----------|----------|
| Объём памяти | 4 Кбит (512 байт) |
| Адресация | 9 бит (адреса 0x000–0x1FF) |
| Размер страницы | 16 байт |
| Время записи страницы | ≤ 5 мс |
| Интерфейс | SPI (режимы 0 и 3) |
| Напряжение питания | 1.8–5.5 В |
| Ресурс записи | 1 000 000 циклов |

## Документация
```bash
doxygen Doxyfile  # (Doxyfile нужно создать отдельно)
```